<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>models/formModel.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="CustomerModel.html">CustomerModel</a><ul class='methods'><li data-type='method'><a href="CustomerModel.html#edit">edit</a></li><li data-type='method'><a href="CustomerModel.html#getformattedBillAddress">getformattedBillAddress</a></li><li data-type='method'><a href="CustomerModel.html#getformattedShipAddress">getformattedShipAddress</a></li><li data-type='method'><a href="CustomerModel.html#getProjects">getProjects</a></li><li data-type='method'><a href="CustomerModel.html#setBillIsSame">setBillIsSame</a></li></ul></li><li><a href="EmployeeModel.html">EmployeeModel</a><ul class='methods'><li data-type='method'><a href="EmployeeModel.html#activate">activate</a></li><li data-type='method'><a href="EmployeeModel.html#changeName">changeName</a></li><li data-type='method'><a href="EmployeeModel.html#deactivate">deactivate</a></li></ul></li><li><a href="FormModel.html">FormModel</a><ul class='methods'><li data-type='method'><a href="FormModel.html#buttonDisabled">buttonDisabled</a></li><li data-type='method'><a href="FormModel.html#fieldValidatorWrapper">fieldValidatorWrapper</a></li><li data-type='method'><a href="FormModel.html#modifyFieldValue">modifyFieldValue</a></li><li data-type='method'><a href="FormModel.html#primaryButtonWrapper">primaryButtonWrapper</a></li></ul></li><li><a href="Page.html">Page</a><ul class='methods'><li data-type='method'><a href="Page.html#accountManagementMenuItem">accountManagementMenuItem</a></li><li data-type='method'><a href="Page.html#costCenterTimeMenuItem">costCenterTimeMenuItem</a></li><li data-type='method'><a href="Page.html#createNewProjMenuItem">createNewProjMenuItem</a></li><li data-type='method'><a href="Page.html#customerEditPage">customerEditPage</a></li><li data-type='method'><a href="Page.html#customerInfoMenuItem">customerInfoMenuItem</a></li><li data-type='method'><a href="Page.html#customerSummaryPage">customerSummaryPage</a></li><li data-type='method'><a href="Page.html#employeeEditPage">employeeEditPage</a></li><li data-type='method'><a href="Page.html#employeeInformationMenuItem">employeeInformationMenuItem</a></li><li data-type='method'><a href="Page.html#employeeSummaryPage">employeeSummaryPage</a></li><li data-type='method'><a href="Page.html#emplProductivityMenuItem">emplProductivityMenuItem</a></li><li data-type='method'><a href="Page.html#jobTypeProductivityMenuItem">jobTypeProductivityMenuItem</a></li><li data-type='method'><a href="Page.html#logOut">logOut</a></li><li data-type='method'><a href="Page.html#logOutAlert">logOutAlert</a></li><li data-type='method'><a href="Page.html#logOutDismiss">logOutDismiss</a></li><li data-type='method'><a href="Page.html#logOutModalOpen">logOutModalOpen</a></li><li data-type='method'><a href="Page.html#newCustomerPage">newCustomerPage</a></li><li data-type='method'><a href="Page.html#newEmployeePage">newEmployeePage</a></li><li data-type='method'><a href="Page.html#projectEditPage">projectEditPage</a></li><li data-type='method'><a href="Page.html#projectsMenuItem">projectsMenuItem</a></li><li data-type='method'><a href="Page.html#projectSummaryPage">projectSummaryPage</a></li><li data-type='method'><a href="Page.html#projectTimeEntryMenuItem">projectTimeEntryMenuItem</a></li><li data-type='method'><a href="Page.html#selectCustomerPage">selectCustomerPage</a></li><li data-type='method'><a href="Page.html#workstationTrackingMenuItem">workstationTrackingMenuItem</a></li></ul></li><li><a href="ProjectModel.html">ProjectModel</a><ul class='methods'><li data-type='method'><a href="ProjectModel.html#addRework">addRework</a></li><li data-type='method'><a href="ProjectModel.html#addTask">addTask</a></li><li data-type='method'><a href="ProjectModel.html#addTimeEntry">addTimeEntry</a></li><li data-type='method'><a href="ProjectModel.html#changeCustomer">changeCustomer</a></li><li data-type='method'><a href="ProjectModel.html#changeHold">changeHold</a></li><li data-type='method'><a href="ProjectModel.html#customerID">customerID</a></li><li data-type='method'><a href="ProjectModel.html#delete">delete</a></li><li data-type='method'><a href="ProjectModel.html#edit">edit</a></li><li data-type='method'><a href="ProjectModel.html#finish">finish</a></li><li data-type='method'><a href="ProjectModel.html#getDefaultTaskList">getDefaultTaskList</a></li><li data-type='method'><a href="ProjectModel.html#isOpen">isOpen</a></li><li data-type='method'><a href="ProjectModel.html#moveTask">moveTask</a></li><li data-type='method'><a href="ProjectModel.html#removeTask">removeTask</a></li><li data-type='method'><a href="ProjectModel.html#timeSpent">timeSpent</a></li><li data-type='method'><a href="ProjectModel.html#toggleTask">toggleTask</a></li></ul></li><li><a href="TableModel.html">TableModel</a><ul class='methods'><li data-type='method'><a href="TableModel.html#closeModal">closeModal</a></li><li data-type='method'><a href="TableModel.html#confirmAndClose">confirmAndClose</a></li><li data-type='method'><a href="TableModel.html#dataFetch">dataFetch</a></li><li data-type='method'><a href="TableModel.html#loadingOff">loadingOff</a></li><li data-type='method'><a href="TableModel.html#loadingOn">loadingOn</a></li><li data-type='method'><a href="TableModel.html#openModal">openModal</a></li></ul></li><li><a href="TaskModel.html">TaskModel</a><ul class='methods'><li data-type='method'><a href="TaskModel.html#toggle">toggle</a></li></ul></li><li><a href="UserModel.html">UserModel</a><ul class='methods'><li data-type='method'><a href="UserModel.html#changePassword">changePassword</a></li><li data-type='method'><a href="UserModel.html#login">login</a></li><li data-type='method'><a href="UserModel.html#logout">logout</a></li><li data-type='method'><a href="UserModel.html#toggleAdmin">toggleAdmin</a></li></ul></li><li><a href="Website.html">Website</a><ul class='methods'><li data-type='method'><a href="Website.html#createCustomer">createCustomer</a></li><li data-type='method'><a href="Website.html#createEmployee">createEmployee</a></li><li data-type='method'><a href="Website.html#createProject">createProject</a></li><li data-type='method'><a href="Website.html#generateBarcode">generateBarcode</a></li><li data-type='method'><a href="Website.html#getAccounts">getAccounts</a></li><li data-type='method'><a href="Website.html#getProject">getProject</a></li><li data-type='method'><a href="Website.html#setCustomer">setCustomer</a></li><li data-type='method'><a href="Website.html#setEmployee">setEmployee</a></li><li data-type='method'><a href="Website.html#setProject">setProject</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">models/formModel.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { action, computed, useStrict, extendObservable } from 'mobx'
useStrict(true)

/**
  * @name FormModel
  * @class FormModel
  * @classdesc Form storage object
  * @description Sets default values for each field item
  * @property {Object[]} fields Type of fields for the form [observable]
  * @property {Object} primaryButton Forms primary button properties
  * @property {String} primaryButton.title Forms primary button title
  * @property {Function} primaryButton.onClick Forms primary button onClick
  * @property {Object} [secondaryButton] Forms secondary button properties
  * @property {String} secondaryButton.title Forms secondary button title
  * @property {Function} secondaryButton.onClick Forms secondary button onClick
 */
export default class FormModel {
  constructor(fields, primaryButton, secondaryButton) {
    fields.forEach(field => {
      let value = null
      switch (field.type){ // default value
        case 'select':
        case 'textfield':
        case 'textarea':
          value = ''
          break
        case 'checkbox':
          value = false
          break
      }
      field.value = value
      field.isValid = true
      field.errorText = ''
      field.disabled = false
    })
    let addtlProps = {
      fields
    }
    extendObservable(this, addtlProps)
    // non-observable properties
    this.primaryButton = primaryButton
    this.secondaryButton = secondaryButton
  }
  /**
   * @name buttonDisabled
   * @description Calculating button disabled state
   * @memberof FormModel.prototype
   * @method buttonDisabled
   * @mobx computed
   */
  @computed get buttonDisabled(){
    let disabled = false
    this.fields.forEach(field => {
      if(!field.isValid){
        disabled = true
      }
      if(field.required){
        switch (field.type){
          case 'textfield':
          case 'textarea':
          case 'select':
            if(field.value.trim() == '')
              disabled = true
            break
        }
      }
    })
    return disabled
  }
  /**
   * @name primaryButtonWrapper
   * @description Wrapper func for the primary button's onClick
   * @memberof FormModel.prototype
   * @method primaryButtonWrapper
   */
  primaryButtonWrapper(){
    this.primaryButton.onClick(this.fields)
  }
  /**
   * @name modifyFieldValue
   * @description Updating the fields value and checks the fields onUpdate (if any)
   * @memberof FormModel.prototype
   * @method modifyFieldValue
   * @property {Number} index The field index
   * @property {String} value The field value
   * @mobx action
   */
  @action modifyFieldValue(index, value){
    this.fields[index].value = value
    if (this.fields[index].onUpdate){
      let updates = this.fields[index].onUpdate(this.fields[index].value)
      updates.forEach(update => {
        let fieldIndex = this.fields.findIndex(field => {return field.id == update.id})
        if(update.hasOwnProperty('required')){
          this.fields[fieldIndex].required = update.required
        }
        if(update.hasOwnProperty('options')){
          this.fields[fieldIndex].options = update.options
        }
        if(update.hasOwnProperty('disabled')){
          this.fields[fieldIndex].disabled = update.disabled
        }
      })
    }
  }
  /**
   * @name fieldValidatorWrapper
   * @description Wrapper func for field validation
   * @memberof FormModel.prototype
   * @method fieldValidatorWrapper
   * @property {Number} index The field index
   * @mobx action
   */
   @action fieldValidatorWrapper(index){
    if (this.fields[index].validation){
      let invalid = this.fields[index].validation(this.fields[index].value)
      if (!invalid){
        this.fields[index].isValid = true
      }
      else{
        this.fields[index].isValid = false
        this.fields[index].errorText = invalid
      }
    }
  }
}
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Tue Feb 20 2018 18:48:02 GMT-0500 (EST) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
